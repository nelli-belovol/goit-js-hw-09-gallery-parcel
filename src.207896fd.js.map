{"version":3,"sources":["js/refs.js","js/app.js","js/galleryListeners.js","index.js"],"names":["refs","lightBox","document","querySelector","lightBoxImage","lightBoxBtn","lightboxOverlay","gallery","galleryItems","preview","original","description","currentImg","addItems","arr","arrItems","map","item","galleryItem","createElement","galleryItemLink","galleryItemImg","classList","add","setAttribute","append","push","openModal","e","target","nodeName","preventDefault","url","dataset","source","addEventListener","closeModalbyClick","window","closeModalByKey","handleKeydown","closeModal","remove","removeEventListener","contains","code","currentIndex","forEach","img","src","indexOf","nextIndex","previousIndex","length"],"mappings":"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","file":"src.207896fd.js","sourceRoot":"../src","sourcesContent":["export const refs = {\n  lightBox: document.querySelector('.lightbox'),\n  lightBoxImage: document.querySelector('.lightbox__image'),\n  lightBoxBtn: document.querySelector(\"[data-action='close-lightbox']\"),\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\n  gallery: document.querySelector('.js-gallery'),\n};\n","export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import { refs } from './refs.js';\nimport { galleryItems } from './app.js';\n\nconst { lightBox, lightBoxImage, lightBoxBtn, gallery } = refs;\n\nlet currentImg;\n\nfunction addItems(arr) {\n  const arrItems = [];\n\n  arr.map(item => {\n    const { preview, original, description } = item;\n    const galleryItem = document.createElement('li');\n    const galleryItemLink = document.createElement('a');\n    const galleryItemImg = document.createElement('img');\n    galleryItem.classList.add('gallery__item');\n    galleryItemLink.classList.add('gallery__link');\n    galleryItemImg.classList.add('gallery__image');\n    galleryItemLink.setAttribute('href', original);\n    galleryItemImg.setAttribute('src', preview);\n    galleryItemImg.setAttribute('data-source', original);\n    galleryItemImg.setAttribute('alt', description);\n    galleryItemLink.append(galleryItemImg);\n    galleryItem.append(galleryItemLink);\n    arrItems.push(galleryItem);\n  });\n\n  gallery.append(...arrItems);\n}\naddItems(galleryItems);\n\nfunction openModal(e) {\n  currentImg = e.target;\n  if (currentImg.nodeName === 'IMG') {\n    e.preventDefault();\n    const url = currentImg.dataset.source;\n    lightBox.classList.add('is-open');\n\n    lightBoxImage.setAttribute('src', url);\n  }\n  lightBox.addEventListener('click', closeModalbyClick);\n  window.addEventListener('keydown', closeModalByKey);\n  document.addEventListener('keydown', handleKeydown);\n}\n\ngallery.addEventListener('click', openModal);\n\nfunction closeModal() {\n  lightBox.classList.remove('is-open');\n  lightBoxImage.setAttribute('src', '');\n  lightBox.removeEventListener('click', closeModalbyClick);\n  window.removeEventListener('keydown', closeModalByKey);\n  document.removeEventListener('keydown', handleKeydown);\n}\n\nfunction closeModalbyClick(e) {\n  if (\n    e.target.classList.contains('lightbox__overlay') ||\n    e.target.classList.contains('lightbox__button')\n  ) {\n    closeModal();\n  }\n}\n\nfunction closeModalByKey(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction handleKeydown(e) {\n  let currentIndex = 0;\n  galleryItems.forEach(img => {\n    if (img.original === lightBoxImage.src) {\n      currentIndex = galleryItems.indexOf(img);\n    }\n  });\n\n  let nextIndex = currentIndex + 1;\n  let previousIndex = currentIndex - 1;\n  if (e.code === 'ArrowRight') {\n    if (nextIndex >= galleryItems.length) {\n      nextIndex = 0;\n    }\n    refs.lightBoxImage.src = galleryItems[nextIndex].original;\n  }\n  if (e.code === 'ArrowLeft') {\n    if (previousIndex < 0) {\n      previousIndex = galleryItems.length - 1;\n    }\n    refs.lightBoxImage.src = galleryItems[previousIndex].original;\n  }\n}\n","import './sass/main.scss';\nimport './js/galleryListeners.js';\n"]}